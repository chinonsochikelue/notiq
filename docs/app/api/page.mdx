# API Reference

Complete API documentation for Notiq Editor.

## NotiqEditor Component

The main editor component.

### Props

#### Basic Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `value` | `string` | `undefined` | Controlled value of the editor |
| `onChange` | `(value: string) => void` | `undefined` | Callback when content changes |
| `initialContent` | `string` | `''` | Initial content (uncontrolled) |
| `placeholder` | `string` | `'Start typing...'` | Placeholder text |
| `readOnly` | `boolean` | `false` | Make editor read-only |
| `autoFocus` | `boolean` | `false` | Auto-focus on mount |
| `spellCheck` | `boolean` | `true` | Enable spell checking |

#### Styling Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `className` | `string` | `''` | Container class name |
| `editorClassName` | `string` | `''` | Editor content class name |
| `toolbarClassName` | `string` | `''` | Toolbar class name |
| `style` | `CSSProperties` | `{}` | Inline styles |
| `theme` | `ThemeConfig` | `defaultTheme` | Theme configuration |
| `darkMode` | `'auto' \| 'light' \| 'dark'` | `'auto'` | Dark mode setting |

#### Toolbar Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `toolbar` | `boolean` | `true` | Show/hide toolbar |
| `toolbarConfig` | `ToolbarConfig` | `defaultConfig` | Toolbar configuration |

#### Plugin Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `plugins` | `PluginConfig` | `{}` | Plugin configuration |

#### Event Props

| Prop | Type | Description |
|------|------|-------------|
| `onFocus` | `() => void` | Called when editor gains focus |
| `onBlur` | `() => void` | Called when editor loses focus |
| `onChange` | `(content: string) => void` | Called when content changes |
| `onError` | `(error: Error) => void` | Called on error |
| `onReady` | `() => void` | Called when editor is ready |

## Type Definitions

### ThemeConfig

```typescript
interface ThemeConfig {
  colors?: {
    primary?: string
    secondary?: string
    background?: string
    text?: string
    border?: string
    toolbar?: {
      background?: string
      text?: string
      hover?: string
      active?: string
    }
  }
  spacing?: {
    toolbar?: string
    editor?: string
  }
  borderRadius?: {
    editor?: string
    toolbar?: string
    button?: string
  }
  fonts?: {
    body?: string
    code?: string
  }
}
```

### ToolbarConfig

```typescript
interface ToolbarConfig {
  items?: ToolbarItem[]
  containerClass?: string
  buttonClass?: string
  activeButtonClass?: string
  mobile?: {
    items?: ToolbarItem[]
    position?: 'top' | 'bottom'
    containerClass?: string
  }
}

type ToolbarItem = 
  | 'bold' | 'italic' | 'underline' | 'strikethrough'
  | 'h1' | 'h2' | 'h3'
  | 'bulletList' | 'numberedList'
  | 'quote' | 'code' | 'codeBlock'
  | 'link' | 'image' | 'table'
  | 'equation'
  | '|' // separator
```

### PluginConfig

```typescript
interface PluginConfig {
  markdown?: boolean | MarkdownConfig
  equations?: boolean | EquationsConfig
  codeHighlight?: boolean | CodeHighlightConfig
  autoLink?: boolean | AutoLinkConfig
  emoji?: boolean
}

interface MarkdownConfig {
  enabled: boolean
  shortcuts?: boolean
  autoConvert?: boolean
}

interface EquationsConfig {
  enabled: boolean
  inline?: boolean
  block?: boolean
  macros?: Record<string, string>
}

interface CodeHighlightConfig {
  enabled: boolean
  theme?: string
  languages?: string[]
  showLineNumbers?: boolean
  copyButton?: boolean
}

interface AutoLinkConfig {
  enabled: boolean
  protocols?: string[]
  openInNewTab?: boolean
}
```

## Hooks

### useNotiqEditor

Create a custom editor instance with full control.

```typescript
import { useNotiqEditor } from '@collabchron/notiq'

function CustomEditor() {
  const editor = useNotiqEditor({
    initialContent: '# Hello',
    onChange: (content) => console.log(content)
  })

  return (
    <div>
      <button onClick={() => editor.focus()}>Focus</button>
      <button onClick={() => editor.clear()}>Clear</button>
      {editor.render()}
    </div>
  )
}
```

#### Editor Instance Methods

| Method | Parameters | Returns | Description |
|--------|------------|---------|-------------|
| `focus()` | - | `void` | Focus the editor |
| `blur()` | - | `void` | Blur the editor |
| `clear()` | - | `void` | Clear all content |
| `getContent()` | - | `string` | Get current content |
| `setContent()` | `content: string` | `void` | Set content |
| `undo()` | - | `void` | Undo last change |
| `redo()` | - | `void` | Redo last undone change |
| `insertText()` | `text: string` | `void` | Insert text at cursor |
| `formatText()` | `format: TextFormat` | `void` | Apply text formatting |
| `render()` | - | `ReactNode` | Render the editor |

### useNotiqContent

Access and manipulate editor content.

```typescript
import { useNotiqContent } from '@collabchron/notiq'

function ContentManager() {
  const { content, setContent, wordCount, charCount } = useNotiqContent()

  return (
    <div>
      <p>Words: {wordCount}</p>
      <p>Characters: {charCount}</p>
    </div>
  )
}
```

## Utilities

### createCustomNode

Create custom node types.

```typescript
import { createCustomNode } from '@collabchron/notiq'

const CalloutNode = createCustomNode({
  type: 'callout',
  render: ({ children, type }) => (
    <div className={`callout callout-${type}`}>
      {children}
    </div>
  ),
  serialize: (node) => ({
    type: 'callout',
    content: node.getTextContent()
  })
})
```

### createCustomPlugin

Create custom plugins.

```typescript
import { createCustomPlugin } from '@collabchron/notiq'

const CustomPlugin = createCustomPlugin({
  name: 'custom-plugin',
  init: (editor) => {
    // Plugin initialization
  },
  destroy: () => {
    // Cleanup
  }
})
```

## Constants

### Default Theme

```typescript
export const DEFAULT_THEME: ThemeConfig = {
  colors: {
    primary: '#3b82f6',
    secondary: '#64748b',
    background: '#ffffff',
    text: '#1f2937',
    border: '#e5e7eb'
  }
}
```

### Default Toolbar Items

```typescript
export const DEFAULT_TOOLBAR_ITEMS: ToolbarItem[] = [
  'bold', 'italic', 'underline',
  '|',
  'h1', 'h2', 'h3',
  '|',
  'bulletList', 'numberedList',
  '|',
  'link', 'image'
]
```

## Error Handling

### Error Types

```typescript
class NotiqError extends Error {
  code: string
  details?: any
}

// Common error codes
const ERROR_CODES = {
  INITIALIZATION_FAILED: 'INIT_FAILED',
  INVALID_CONTENT: 'INVALID_CONTENT',
  PLUGIN_ERROR: 'PLUGIN_ERROR',
  SERIALIZATION_ERROR: 'SERIALIZATION_ERROR'
}
```

### Error Handling Example

```typescript
<NotiqEditor
  onError={(error) => {
    if (error.code === 'PLUGIN_ERROR') {
      console.error('Plugin failed:', error.details)
    }
  }}
/>
```

## TypeScript Support

Notiq is written in TypeScript and provides full type definitions.

### Importing Types

```typescript
import type {
  NotiqEditorProps,
  ThemeConfig,
  ToolbarConfig,
  PluginConfig,
  EditorInstance
} from '@collabchron/notiq'
```

## Next Steps

- ðŸ”§ [Configuration](/configuration) - Configure the editor
- ðŸŽ¨ [Theming](/theming) - Customize appearance
- ðŸ§© [Plugins](/plugins) - Extend functionality
