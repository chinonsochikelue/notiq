# Usage

This guide covers the essential usage patterns for Notiq Editor, from basic implementation to advanced features.

## Basic Usage

### Minimal Setup

The simplest way to use Notiq is with zero configuration:

```tsx
import { NotiqEditor } from '@collabchron/notiq'
import '@collabchron/notiq/dist/styles/notiq.css'

export default function EditorPage() {
  return (
    <div className="container mx-auto p-4">
      <NotiqEditor />
    </div>
  )
}
```

### With Initial Content

You can provide initial content to the editor:

```tsx
import { NotiqEditor } from '@collabchron/notiq'

export default function EditorPage() {
  const initialContent = `
# Welcome to Notiq

This is **bold text** and this is *italic text*.

- List item 1
- List item 2
- List item 3
  `

  return (
    <NotiqEditor 
      initialContent={initialContent}
      placeholder="Start writing..."
    />
  )
}
```

## State Management

### Controlled Component

Use Notiq as a controlled component to manage editor state:

```tsx
'use client'

import { useState } from 'react'
import { NotiqEditor } from '@collabchron/notiq'

export default function ControlledEditor() {
  const [content, setContent] = useState('')

  const handleChange = (newContent: string) => {
    setContent(newContent)
    // Auto-save, validation, etc.
  }

  return (
    <div>
      <NotiqEditor 
        value={content}
        onChange={handleChange}
      />
      
      <div className="mt-4">
        <h3>Preview:</h3>
        <pre>{content}</pre>
      </div>
    </div>
  )
}
```

### Saving Content

Save editor content to your backend:

```tsx
'use client'

import { useState } from 'react'
import { NotiqEditor } from '@collabchron/notiq'

export default function SaveableEditor() {
  const [content, setContent] = useState('')
  const [isSaving, setIsSaving] = useState(false)

  const handleSave = async () => {
    setIsSaving(true)
    try {
      await fetch('/api/save-content', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content })
      })
      alert('Content saved successfully!')
    } catch (error) {
      console.error('Save failed:', error)
    } finally {
      setIsSaving(false)
    }
  }

  return (
    <div>
      <NotiqEditor 
        value={content}
        onChange={setContent}
      />
      
      <button 
        onClick={handleSave}
        disabled={isSaving}
        className="mt-4 px-4 py-2 bg-blue-600 text-white rounded"
      >
        {isSaving ? 'Saving...' : 'Save'}
      </button>
    </div>
  )
}
```

## Customization

### Custom Toolbar

Customize the toolbar to show only the tools you need:

```tsx
import { NotiqEditor } from '@collabchron/notiq'

export default function CustomToolbarEditor() {
  return (
    <NotiqEditor 
      toolbarConfig={{
        items: ['bold', 'italic', 'underline', '|', 'h1', 'h2', 'h3', '|', 'link', 'code'],
        containerClass: 'bg-gray-100 border-b border-gray-300',
        buttonClass: 'hover:bg-gray-200 px-3 py-2',
        activeButtonClass: 'bg-blue-500 text-white'
      }}
    />
  )
}
```

### Styling

Apply custom styling to the editor:

```tsx
import { NotiqEditor } from '@collabchron/notiq'

export default function StyledEditor() {
  return (
    <NotiqEditor 
      className="min-h-[500px] border border-gray-300 rounded-lg"
      editorClassName="prose prose-lg max-w-none p-6"
      placeholder="Write something amazing..."
    />
  )
}
```

## Advanced Features

### Read-Only Mode

Display content in read-only mode:

```tsx
import { NotiqEditor } from '@collabchron/notiq'

export default function ReadOnlyEditor({ content }: { content: string }) {
  return (
    <NotiqEditor 
      value={content}
      readOnly
      toolbar={false}
    />
  )
}
```

### With Plugins

Enable specific plugins:

```tsx
import { NotiqEditor } from '@collabchron/notiq'

export default function PluginEditor() {
  return (
    <NotiqEditor 
      plugins={{
        markdown: true,
        equations: true,
        codeHighlight: {
          theme: 'github-dark',
          languages: ['javascript', 'typescript', 'python', 'rust']
        },
        autoLink: true,
        emoji: true
      }}
    />
  )
}
```

### Event Handlers

Handle editor events:

```tsx
'use client'

import { NotiqEditor } from '@collabchron/notiq'

export default function EventEditor() {
  return (
    <NotiqEditor 
      onFocus={() => console.log('Editor focused')}
      onBlur={() => console.log('Editor blurred')}
      onChange={(content) => console.log('Content changed:', content)}
      onError={(error) => console.error('Editor error:', error)}
    />
  )
}
```

## Common Patterns

### Form Integration

Integrate Notiq with form libraries like React Hook Form:

```tsx
'use client'

import { useForm, Controller } from 'react-hook-form'
import { NotiqEditor } from '@collabchron/notiq'

export default function FormEditor() {
  const { control, handleSubmit } = useForm()

  const onSubmit = (data: any) => {
    console.log('Form data:', data)
  }

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <Controller
        name="content"
        control={control}
        render={({ field }) => (
          <NotiqEditor 
            value={field.value}
            onChange={field.onChange}
          />
        )}
      />
      
      <button type="submit" className="mt-4 px-4 py-2 bg-blue-600 text-white rounded">
        Submit
      </button>
    </form>
  )
}
```

### Auto-Save

Implement auto-save functionality:

```tsx
'use client'

import { useState, useEffect } from 'react'
import { NotiqEditor } from '@collabchron/notiq'
import { useDebounce } from '@/hooks/useDebounce'

export default function AutoSaveEditor() {
  const [content, setContent] = useState('')
  const debouncedContent = useDebounce(content, 1000)

  useEffect(() => {
    if (debouncedContent) {
      // Auto-save logic
      fetch('/api/auto-save', {
        method: 'POST',
        body: JSON.stringify({ content: debouncedContent })
      })
    }
  }, [debouncedContent])

  return (
    <div>
      <NotiqEditor 
        value={content}
        onChange={setContent}
      />
      <p className="text-sm text-gray-500 mt-2">
        Auto-saving...
      </p>
    </div>
  )
}
```

### Collaborative Editing

Set up collaborative editing with WebSockets:

```tsx
'use client'

import { useState, useEffect } from 'react'
import { NotiqEditor } from '@collabchron/notiq'
import { useWebSocket } from '@/hooks/useWebSocket'

export default function CollaborativeEditor({ documentId }: { documentId: string }) {
  const [content, setContent] = useState('')
  const { send, lastMessage } = useWebSocket(`ws://your-server.com/doc/${documentId}`)

  useEffect(() => {
    if (lastMessage) {
      setContent(lastMessage.content)
    }
  }, [lastMessage])

  const handleChange = (newContent: string) => {
    setContent(newContent)
    send({ type: 'update', content: newContent })
  }

  return (
    <NotiqEditor 
      value={content}
      onChange={handleChange}
    />
  )
}
```

## Best Practices

### 1. Client Component Usage

Always use Notiq in Client Components (with `'use client'` directive) when using state or event handlers:

```tsx
'use client'

import { NotiqEditor } from '@collabchron/notiq'
// ... rest of your component
```

### 2. CSS Import Location

Import Notiq CSS in your root layout for optimal performance:

```tsx
// app/layout.tsx
import '@collabchron/notiq/dist/styles/notiq.css'
```

### 3. Performance Optimization

For large documents, use lazy loading:

```tsx
import dynamic from 'next/dynamic'

const NotiqEditor = dynamic(
  () => import('@collabchron/notiq').then(mod => mod.NotiqEditor),
  { ssr: false }
)
```

### 4. Error Boundaries

Wrap the editor in an error boundary:

```tsx
import { ErrorBoundary } from 'react-error-boundary'
import { NotiqEditor } from '@collabchron/notiq'

export default function SafeEditor() {
  return (
    <ErrorBoundary fallback={<div>Editor failed to load</div>}>
      <NotiqEditor />
    </ErrorBoundary>
  )
}
```

## Next Steps

- ðŸ”§ [Configuration](/configuration) - Detailed configuration options
- ðŸŽ¨ [Theming](/theming) - Customize the editor's appearance
- ðŸ“š [API Reference](/api) - Complete API documentation
- ðŸ§© [Plugins](/plugins) - Learn about available plugins
